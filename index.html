<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HSK3 å­—å¡æ¸¸æˆ</title>
    <style>
        body {
            font-family: 'Microsoft YaHei', sans-serif;
            background-color: #f5f9ff;
            padding: 20px;
            color: #333;
        }
        h1 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 20px;
        }
        .controls {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
            margin-bottom: 20px;
        }
        .controls-row {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
            width: 100%;
        }
        select, button {
            padding: 10px 15px;
            border-radius: 5px;
            border: 1px solid #ddd;
            font-size: 16px;
            background-color: white;
            cursor: pointer;
        }
        button {
            background-color: #3498db;
            color: white;
            border: none;
            transition: all 0.3s;
        }
        button:hover {
            background-color: #2980b9;
            transform: translateY(-2px);
        }
        .mode-btn {
            background-color: #e0e0e0;
            color: #333;
        }
        .mode-btn.active {
            background-color: #3498db;
            color: white;
        }
        .container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            max-width: 1000px;
            margin: 0 auto;
        }
        .card {
            width: 140px;
            height: 180px;
            perspective: 1000px;
            cursor: pointer;
        }
        .card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            transition: transform 0.6s;
            transform-style: preserve-3d;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            border-radius: 10px;
        }
        .card.flipped .card-inner {
            transform: rotateY(180deg);
        }
        .card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            border-radius: 10px;
            padding: 10px;
            box-sizing: border-box;
            text-align: center;
        }
        .card-front {
            background: linear-gradient(135deg, #e3f2fd, #bbdefb);
            color: #0d47a1;
            border: 2px solid #64b5f6;
        }
        .card-back {
            background: linear-gradient(135deg, #fff9c4, #fff59d);
            color: #f57f17;
            transform: rotateY(180deg);
        }
        .card-back-english {
            background: linear-gradient(135deg, #dcedc8, #c5e1a5);
            color: #33691e;
            transform: rotateY(180deg);
        }
        .hsk-badge {
            position: absolute;
            top: 5px;
            right: 5px;
            background-color: #5c6bc0;
            color: white;
            border-radius: 50%;
            width: 25px;
            height: 25px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
        }
        .hanzi {
            font-size: 1.8rem;
            font-weight: bold;
            margin-bottom: 5px;
            max-width: 100%;
            text-align: center;
            padding: 0 5px;
        }
	/* æ ¹æ®å­—æ•°è°ƒæ•´å­—ä½“å¤§å° */
    	.hanzi[data-chars="1"] { font-size: 2.5rem; }
    	.hanzi[data-chars="2"] { font-size: 2.2rem; }
    	.hanzi[data-chars="3"] { font-size: 1.8rem; }
    	.hanzi[data-chars="4"] { font-size: 1.6rem; }
    	.hanzi[data-chars="5"] { font-size: 1.4rem; white-space: normal; } 
        .pinyin {
            font-size: 1.2rem;
            color: #d84315;
            margin-bottom: 5px;
        }
        .meaning {
            font-size: 0.9rem;
            padding: 0 5px;
        }
        .lesson-info {
            position: absolute;
            bottom: 5px;
            left: 5px;
            font-size: 0.7rem;
            color: #666;
        }
        @media (max-width: 600px) {
            .card {
                width: 120px;
                height: 160px;
            }
            .hanzi {
                font-size: 1.6rem;
            }
	    .hanzi[data-chars="1"] { font-size: 2.2rem; }
            .hanzi[data-chars="2"] { font-size: 2.0rem; }
            .hanzi[data-chars="3"] { font-size: 1.6rem; }
            .hanzi[data-chars="4"] { font-size: 1.4rem; }
            .hanzi[data-chars="5"] { font-size: 1.2rem; }
            .pinyin {
                font-size: 1rem;
            }
        }
    </style>
</head>
<body>
    <h1>HSK3 å­—å¡æ¸¸æˆ</h1>
    
    <div class="controls">
        <div class="controls-row">
            <select id="lesson-select">
                <option value="all">å…¨éƒ¨è¯¾ç¨‹</option>
                <option value="1">ç¬¬1è¯¾</option>
                <option value="2">ç¬¬2è¯¾</option>
                <option value="3">ç¬¬3è¯¾</option>
                <option value="4">ç¬¬4è¯¾</option>
                <option value="5">ç¬¬5è¯¾</option>
                <option value="6">ç¬¬6è¯¾</option>
                <option value="7">ç¬¬7è¯¾</option>
                <option value="8">ç¬¬8è¯¾</option>
                <option value="9">ç¬¬9è¯¾</option>
                <option value="10">ç¬¬10è¯¾</option>
                <option value="11">ç¬¬11è¯¾</option>
                <option value="12">ç¬¬12è¯¾</option>
                <option value="13">ç¬¬13è¯¾</option>
                <option value="14">ç¬¬14è¯¾</option>
                <option value="15">ç¬¬15è¯¾</option>
                <option value="16">ç¬¬16è¯¾</option>
                <option value="17">ç¬¬17è¯¾</option>
                <option value="18">ç¬¬18è¯¾</option>
                <option value="19">ç¬¬19è¯¾</option>
                <option value="20">ç¬¬20è¯¾</option>
            </select>
            
            <button id="hanzi-mode" class="mode-btn active">æ±‰å­—æ¨¡å¼</button>
            <button id="pinyin-mode" class="mode-btn">æ‹¼éŸ³æ¨¡å¼</button>
        </div>
        
        <div class="controls-row">
            <button id="shuffle-btn">ğŸ”€ æ‰“ä¹±é¡ºåº</button>
            <button id="flip-all">ğŸ”„ å…¨éƒ¨ç¿»è½¬</button>
            <button id="reset-btn">ğŸ”„ é‡ç½®</button>
        </div>
    </div>
    
    <div class="container" id="cards-container">
        <!-- å¡ç‰‡å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
    </div>

    <script>
        // HSK3è¯æ±‡æ•°æ®
        const hsk3Data = [
            { hanzi: "å•Š", pinyin: "a", meaning: "used at the end of a sentence to indicate confirmation or defense", lesson: "1" },
            { hanzi: "æ¬", pinyin: "bÄn", meaning: "to move, to carry", lesson: "1" },
            { hanzi: "æ‰“ç®—", pinyin: "dÇsuÃ n", meaning: "plan; to intend", lesson: "1" },
            { hanzi: "å¸¦", pinyin: "dÃ i", meaning: "to take along, to bring", lesson: "1" },
            { hanzi: "åœ°å›¾", pinyin: "dÃ¬tÃº", meaning: "map", lesson: "1" },
            { hanzi: "å¤ä¹ ", pinyin: "fÃ¹xÃ­", meaning: "to review", lesson: "1" },
            { hanzi: "é¢åŒ…", pinyin: "miÃ nbÄo", meaning: "bread", lesson: "1" },
            { hanzi: "ä¸€ç›´", pinyin: "yÃ¬zhÃ­", meaning: "all the time", lesson: "1" },
            { hanzi: "ç€æ€¥", pinyin: "zhÃ¡ojÃ­", meaning: "worried, anxious", lesson: "1" },
            { hanzi: "ä½œä¸š", pinyin: "zuÃ²yÃ¨", meaning: "homework", lesson: "1" },
            { hanzi: "å‘¨æœ«", pinyin: "zhÅumÃ²", meaning: "weekend", lesson: "1" },
            { hanzi: "è·Ÿ", pinyin: "gÄ“n", meaning: "with", lesson: "1" },
            { hanzi: "æ¸¸æˆ", pinyin: "yÃ³uxÃ¬", meaning: "game", lesson: "1" },
            { hanzi: "å—æ–¹", pinyin: "nÃ¡nfÄng", meaning: "south; southern part", lesson: "1" },
            { hanzi: "åŒ—æ–¹", pinyin: "bÄ›ifÄng", meaning: "north; northern part", lesson: "1" },
            { hanzi: "æŠŠ", pinyin: "bÇ", meaning: "used for things with a handle", lesson: "2" },
            { hanzi: "åŠå…¬å®¤", pinyin: "bÃ ngÅngshÃ¬", meaning: "office", lesson: "2" },
            { hanzi: "è„š", pinyin: "jiÇo", meaning: "foot", lesson: "2" },
            { hanzi: "ç»ç†", pinyin: "jÄ«nglÇ", meaning: "manager", lesson: "2" },
            { hanzi: "æ‹¿", pinyin: "nÃ¡", meaning: "to take, to fetch", lesson: "2" },
            { hanzi: "èƒ–", pinyin: "pÃ ng", meaning: "fat", lesson: "2" },
            { hanzi: "å…¶å®", pinyin: "qÃ­shÃ­", meaning: "actually", lesson: "2" },
            { hanzi: "å®¹æ˜“", pinyin: "rÃ³ngyÃ¬", meaning: "easy", lesson: "2" },
            { hanzi: "ç˜¦", pinyin: "shÃ²u", meaning: "thin", lesson: "2" },
            { hanzi: "è…¿", pinyin: "tuÇ", meaning: "leg", lesson: "2" },
            { hanzi: "ç–¼", pinyin: "tÃ©ng", meaning: "hurt, painful", lesson: "2" },
            { hanzi: "æ ‘", pinyin: "shÃ¹", meaning: "tree", lesson: "2" },
            { hanzi: "éš¾", pinyin: "nÃ¡n", meaning: "difficult", lesson: "2" },
            { hanzi: "è¾†", pinyin: "liÃ ng", meaning: "measure word for vehicles", lesson: "2" },
            { hanzi: "æ¥¼", pinyin: "lÃ³u", meaning: "building", lesson: "2" },
            { hanzi: "ä¼", pinyin: "sÇn", meaning: "umbrella", lesson: "2" },
            { hanzi: "å¤ªå¤ª*", pinyin: "tÃ itai", meaning: "Mrs., madam", lesson: "2" },
            { hanzi: "ç§˜ä¹¦*", pinyin: "mÃ¬shÅ«", meaning: "secretary", lesson: "2" },
            { hanzi: "è¡¬è¡«", pinyin: "chÃ¨nshÄn", meaning: "shirt", lesson: "3" },
            { hanzi: "æ”¾", pinyin: "fÃ ng", meaning: "to put, to place", lesson: "3" },
            { hanzi: "è®°å¾—", pinyin: "jÃ¬de", meaning: "to remember", lesson: "3" },
            { hanzi: "è£¤å­", pinyin: "kÃ¹zi", meaning: "pants", lesson: "3" },
            { hanzi: "ç»¿", pinyin: "lÇœ", meaning: "green", lesson: "3" },
            { hanzi: "çˆ¬å±±", pinyin: "pÃ¡ shÄn", meaning: "to climb a mountain", lesson: "3" },
            { hanzi: "èˆ’æœ", pinyin: "shÅ«fu", meaning: "comfortable", lesson: "3" },
            { hanzi: "ç”œ", pinyin: "tiÃ¡n", meaning: "sweet", lesson: "3" },
            { hanzi: "æ¡", pinyin: "tiÃ¡o", meaning: "used for pants, dresses, etc.", lesson: "3" },
            { hanzi: "å°å¿ƒ", pinyin: "xiÇoxÄ«n", meaning: "careful", lesson: "3" },
            { hanzi: "è¿˜æ˜¯", pinyin: "hÃ¡ishÃ¬", meaning: "or", lesson: "3" },
            { hanzi: "å…ƒ", pinyin: "yuÃ¡n", meaning: "unit for money", lesson: "3" },
            { hanzi: "æ–°é²œ", pinyin: "xÄ«nxiÄn", meaning: "fresh", lesson: "3" },
            { hanzi: "åª", pinyin: "zhÇ", meaning: "only, solely", lesson: "3" },
            { hanzi: "é¥®æ–™", pinyin: "yÇnliÃ o", meaning: "beverage; drink", lesson: "3" },
            { hanzi: "æˆ–è€…", pinyin: "huÃ²zhÄ›", meaning: "or", lesson: "3" },
            { hanzi: "èŠ±", pinyin: "huÄ", meaning: "flower", lesson: "3" },
            { hanzi: "æ¯”èµ›", pinyin: "bÇsÃ i", meaning: "match, competition", lesson: "4" },
            { hanzi: "è›‹ç³•", pinyin: "dÃ ngÄo", meaning: "cake", lesson: "4" },
            { hanzi: "å®¢äºº", pinyin: "kÃ¨rÃ©n", meaning: "customer, guest", lesson: "4" },
            { hanzi: "å¹´çº§", pinyin: "niÃ¡njÃ­", meaning: "grade", lesson: "4" },
            { hanzi: "å¹´è½»", pinyin: "niÃ¡nqÄ«ng", meaning: "young", lesson: "4" },
            { hanzi: "åŠªåŠ›", pinyin: "nÇ”lÃ¬", meaning: "hard-working", lesson: "4" },
            { hanzi: "çƒ­æƒ…", pinyin: "rÃ¨qÃ­ng", meaning: "warm, enthusiastic", lesson: "4" },
            { hanzi: "è®¤çœŸ", pinyin: "rÃ¨nzhÄ“n", meaning: "serious, earnest", lesson: "4" },
            { hanzi: "ç…§ç‰‡", pinyin: "zhÃ opiÃ n", meaning: "photo", lesson: "4" },
            { hanzi: "åˆ", pinyin: "yÃ²u", meaning: "and", lesson: "4" },
            { hanzi: "èªæ˜", pinyin: "cÅngmÃ­ng", meaning: "clever, smart", lesson: "4" },
            { hanzi: "æ€»æ˜¯", pinyin: "zÇ’ngshÃ¬", meaning: "always", lesson: "4" },
            { hanzi: "å›åˆ°", pinyin: "huÃ­dÃ¡", meaning: "to answer", lesson: "4" },
            { hanzi: "ç«™", pinyin: "zhÃ n", meaning: "to stand", lesson: "4" },
            { hanzi: "é¥¿", pinyin: "Ã¨", meaning: "hungry", lesson: "4" },
            { hanzi: "è¶…å¸‚", pinyin: "chÄoshÃ¬", meaning: "supermarket", lesson: "4" },
            { hanzi: "è‰", pinyin: "cÇo", meaning: "grass", lesson: "5" },
            { hanzi: "æ˜¥ï¼ˆå¤©ï¼‰", pinyin: "chÅ«n (tiÄn)", meaning: "spring", lesson: "5" },
            { hanzi: "æ„Ÿå†’", pinyin: "gÇnmÃ o", meaning: "to catch a cold", lesson: "5" },
            { hanzi: "å‘çƒ§", pinyin: "fÄ shÄo", meaning: "to have a fever", lesson: "5" },
            { hanzi: "è£™å­", pinyin: "qÃºnzi", meaning: "dress, skirt", lesson: "5" },
            { hanzi: "ä¸º", pinyin: "wÃ¨i", meaning: "for", lesson: "5" },
            { hanzi: "å¤ï¼ˆå¤©ï¼‰", pinyin: "xiÃ  (tiÄn)", meaning: "summer", lesson: "5" },
            { hanzi: "ç…§é¡¾", pinyin: "zhÃ ogÃ¹", meaning: "to take care of", lesson: "5" },
            { hanzi: "ç”¨", pinyin: "yÃ²ng", meaning: "to need", lesson: "5" },
            { hanzi: "å­£èŠ‚", pinyin: "jÃ¬jiÃ©", meaning: "season", lesson: "5" },
            { hanzi: "å½“ç„¶", pinyin: "dÄngrÃ¡n", meaning: "of course", lesson: "5" },
            { hanzi: "æœ€è¿‘", pinyin: "zuÃ¬jÃ¬n", meaning: "recently, lately", lesson: "5" },
            { hanzi: "è¶Š", pinyin: "yuÃ¨", meaning: "more, to a greater degree", lesson: "5" },
            { hanzi: "å¸®å¿™", pinyin: "bÄng mÃ¡ng", meaning: "to help", lesson: "6" },
            { hanzi: "åˆšæ‰", pinyin: "gÄngcÃ¡i", meaning: "just now", lesson: "6" },
            { hanzi: "å…¬å›­", pinyin: "gÅngyuÃ¡n", meaning: "park", lesson: "6" },
            { hanzi: "è®²", pinyin: "jiÇng", meaning: "to explain", lesson: "6" },
            { hanzi: "ç¦»å¼€", pinyin: "lÃ­ kÄi", meaning: "to leave, to part with", lesson: "6" },
            { hanzi: "èŠå¤©ï¼ˆå„¿ï¼‰", pinyin: "liÃ¡otiÄn(r)", meaning: "to chat", lesson: "6" },
            { hanzi: "æ˜ç™½", pinyin: "mÃ­ngbai", meaning: "clear", lesson: "6" },
            { hanzi: "ç‰¹åˆ«", pinyin: "tÃ¨biÃ©", meaning: "extraordinarily", lesson: "6" },
            { hanzi: "çªç„¶", pinyin: "tÅ«rÃ¡n", meaning: "suddenly", lesson: "6" },
            { hanzi: "æ¸…æ¥š", pinyin: "qÄ«ngchu", meaning: "clear, distinct", lesson: "6" },
            { hanzi: "é”»ç‚¼", pinyin: "duÃ nliÃ n", meaning: "to do physical exercise", lesson: "6" },
            { hanzi: "éŸ³ä¹", pinyin: "yÄ«nyuÃ¨", meaning: "music", lesson: "6" },
            { hanzi: "æ›´", pinyin: "gÃ¨ng", meaning: "more, even more", lesson: "6" },
            { hanzi: "ç¡ç€*", pinyin: "shuÃ¬zhÃ¡o", meaning: "to fall asleep", lesson: "6" },
            { hanzi: "çœ¼é•œ*", pinyin: "yÇnjÃ¬ng", meaning: "glasses, spectacles", lesson: "6" },
            { hanzi: "åŠ", pinyin: "bÃ n", meaning: "half", lesson: "7" },
            { hanzi: "å·®", pinyin: "chÃ ", meaning: "to fall short of", lesson: "7" },
            { hanzi: "è¿Ÿåˆ°", pinyin: "chÃ­dÃ o", meaning: "to be late", lesson: "7" },
            { hanzi: "æ¥", pinyin: "jiÄ“", meaning: "to meet (sb.), to pick up (sb.)", lesson: "7" },
            { hanzi: "ä¹…", pinyin: "jiÇ”", meaning: "for a long time, long", lesson: "7" },
            { hanzi: "åŒäº‹", pinyin: "tÃ³ngshÃ¬", meaning: "colleague", lesson: "7" },
            { hanzi: "ä»¥å‰", pinyin: "yÇqiÃ¡n", meaning: "before, ago", lesson: "7" },
            { hanzi: "ç»“å©š", pinyin: "jiÃ© hÅ«n", meaning: "to marry, to get married", lesson: "7" },
            { hanzi: "é“¶è¡Œ", pinyin: "yÃ­nhÃ¡ng", meaning: "bank", lesson: "7" },
            { hanzi: "æ„Ÿå…´è¶£", pinyin: "gÇn xÃ¬ngqÃ¹", meaning: "to be interested in", lesson: "7" },
            { hanzi: "æ¬¢è¿", pinyin: "huÄnyÃ­ng", meaning: "to welcome", lesson: "7" },
            { hanzi: "åˆ»", pinyin: "kÃ¨", meaning: "quarter", lesson: "7" },
            { hanzi: "å®‰é™", pinyin: "ÄnjÃ¬ng", meaning: "quiet", lesson: "8" },
            { hanzi: "å˜åŒ–", pinyin: "biÃ nhuÃ ", meaning: "to change", lesson: "8" },
            { hanzi: "å±‚", pinyin: "cÃ©ng", meaning: "used for floors", lesson: "8" },
            { hanzi: "å®³æ€•", pinyin: "hÃ i pÃ ", meaning: "to be afraid, to be scared", lesson: "8" },
            { hanzi: "è§é¢", pinyin: "jiÃ n miÃ n", meaning: "to meet", lesson: "8" },
            { hanzi: "å¥åº·", pinyin: "jiÃ nkÄng", meaning: "healthy", lesson: "8" },
            { hanzi: "è€", pinyin: "lÇo", meaning: "old", lesson: "8" },
            { hanzi: "é©¬ä¸Š", pinyin: "mÇshÃ ng", meaning: "immediately, at once", lesson: "8" },
            { hanzi: "æ»¡æ„", pinyin: "mÇnyÃ¬", meaning: "to be satisfied", lesson: "8" },
            { hanzi: "åˆ", pinyin: "yÃ²u", meaning: "again", lesson: "8" },
            { hanzi: "ç”µæ¢¯", pinyin: "diÃ ntÄ«", meaning: "elevator", lesson: "8" },
            { hanzi: "ç†ŠçŒ«", pinyin: "xiÃ³ngmÄo", meaning: "panda", lesson: "8" },
            { hanzi: "ä¸€ä¼šå„¿", pinyin: "yÃ­huÃ¬r", meaning: "a moment", lesson: "8" },
            { hanzi: "æ´—æ‰‹é—´", pinyin: "xÇshÇ’ujiÄn", meaning: "restroom, bathroom", lesson: "8" },
            { hanzi: "å‡ ä¹", pinyin: "jÄ«hÅ«", meaning: "almost", lesson: "8" },
            { hanzi: "é‡è¦", pinyin: "zhÃ²ngyÃ o", meaning: "important", lesson: "8" },
            { hanzi: "å¯ä¹*", pinyin: "kÄ›lÃ¨", meaning: "cola, Coke", lesson: "8" },
            { hanzi: "ç­", pinyin: "bÄn", meaning: "class", lesson: "9" },
            { hanzi: "æ¯”è¾ƒ", pinyin: "bÇjiÃ o", meaning: "fairly, rather", lesson: "9" },
            { hanzi: "å‚åŠ ", pinyin: "cÄnjiÄ", meaning: "to participate", lesson: "9" },
            { hanzi: "æ‹…å¿ƒ", pinyin: "dÄn xÄ«n", meaning: "to worry", lesson: "9" },
            { hanzi: "æ”¾å¿ƒ", pinyin: "fÃ ng xÄ«n", meaning: "to ease one's mind, to rest assured", lesson: "9" },
            { hanzi: "å½±å“", pinyin: "yÇngxiÇng", meaning: "influence", lesson: "9" },
            { hanzi: "ä¸­é—´", pinyin: "zhÅngjiÄn", meaning: "middle", lesson: "9" },
            { hanzi: "æœ€å", pinyin: "zuÃ¬hÃ²u", meaning: "the last one", lesson: "9" },
            { hanzi: "ä¸­æ–‡", pinyin: "ZhÅngwÃ©n", meaning: "Chinese language", lesson: "9" },
            { hanzi: "ä¸€æ ·", pinyin: "yÃ­yÃ ng", meaning: "same, as...as...", lesson: "9" },
            { hanzi: "ä¸€å®š", pinyin: "yÃ­dÃ¬ng", meaning: "certainly, definitely", lesson: "9" },
            { hanzi: "äº†è§£", pinyin: "liÇojiÄ›", meaning: "to know", lesson: "9" },
            { hanzi: "å…ˆ", pinyin: "xiÄn", meaning: "first, in advance", lesson: "9" },
            { hanzi: "çŸ®", pinyin: "Çi", meaning: "short", lesson: "10" },
            { hanzi: "åœ°æ–¹", pinyin: "dÃ¬fang", meaning: "place", lesson: "10" },
            { hanzi: "æ–¹ä¾¿", pinyin: "fÄngbiÃ n", meaning: "convenient", lesson: "10" },
            { hanzi: "ä¸ªå­", pinyin: "gÃ¨zi", meaning: "height, stature", lesson: "10" },
            { hanzi: "ç¯å¢ƒ", pinyin: "huÃ¡njÃ¬ng", meaning: "environment", lesson: "10" },
            { hanzi: "æ¢", pinyin: "huÃ n", meaning: "to change, to substitute", lesson: "10" },
            { hanzi: "æ—§", pinyin: "jiÃ¹", meaning: "old, used, worn", lesson: "10" },
            { hanzi: "æ•°å­¦", pinyin: "shÃ¹xuÃ©", meaning: "maths", lesson: "10" },
            { hanzi: "å†å²", pinyin: "lÃ¬shÇ", meaning: "history", lesson: "10" },
            { hanzi: "ä½“è‚²", pinyin: "tÇyÃ¹", meaning: "P.E.; sports", lesson: "10" },
            { hanzi: "è‡ªè¡Œè½¦", pinyin: "zÃ¬xÃ­ngchÄ“", meaning: "bicycle", lesson: "10" },
            { hanzi: "éª‘", pinyin: "qÃ­", meaning: "to ride", lesson: "10" },
            { hanzi: "ä¸»è¦", pinyin: "zhÇ”yÃ o", meaning: "main", lesson: "10" },
            { hanzi: "é™„è¿‘", pinyin: "fÃ¹jÃ¬n", meaning: "nearby; vicinity", lesson: "10" },
            { hanzi: "ä¸­ä»‹*", pinyin: "zhÅngjiÃ¨", meaning: "intermediary; agent", lesson: "10" },
            { hanzi: "ç¬”è®°æœ¬ï¼ˆç”µè„‘ï¼‰", pinyin: "bÇjÃ¬bÄ›n (diÃ nnÇo)", meaning: "notebook, laptop", lesson: "11" },
            { hanzi: "è¯å…¸", pinyin: "cÃ­diÇn", meaning: "dictionary", lesson: "11" },
            { hanzi: "ç¯", pinyin: "dÄ“ng", meaning: "light, lamp", lesson: "11" },
            { hanzi: "åœ°é“", pinyin: "dÃ¬tiÄ›", meaning: "subway", lesson: "11" },
            { hanzi: "ç”µå­é‚®ä»¶", pinyin: "diÃ nzÇ yÃ³ujiÃ n", meaning: "e-mail", lesson: "11" },
            { hanzi: "å…³", pinyin: "guÄn", meaning: "to turn off, to close", lesson: "11" },
            { hanzi: "ä¼šè®®", pinyin: "huÃ¬yÃ¬", meaning: "meeting, conference", lesson: "11" },
            { hanzi: "è¿˜", pinyin: "huÃ¡n", meaning: "to return", lesson: "11" },
            { hanzi: "ç©ºè°ƒ", pinyin: "kÅngtiÃ¡o", meaning: "air conditioner", lesson: "11" },
            { hanzi: "å›¾ä¹¦é¦†", pinyin: "tÃºshÅ«guÇn", meaning: "library", lesson: "11" },
            { hanzi: "å€Ÿ", pinyin: "jiÃ¨", meaning: "to borrow, to lend", lesson: "11" },
            { hanzi: "ç»“æŸ", pinyin: "jiÃ©shÃ¹", meaning: "to end; to finish", lesson: "11" },
            { hanzi: "å¿˜è®°", pinyin: "wÃ ngjÃ¬", meaning: "to forget", lesson: "11" },
            { hanzi: "å£", pinyin: "kÇ’u", meaning: "mouthful (measure word)", lesson: "11" },
            { hanzi: "åŒ", pinyin: "shuÄng", meaning: "pair (measure word for paired items)", lesson: "11" },
            { hanzi: "ç­·å­", pinyin: "kuÃ izi", meaning: "chopsticks", lesson: "11" },
            { hanzi: "ç“¶å­", pinyin: "pÃ­ngzi", meaning: "bottle", lesson: "11" },
            { hanzi: "ä¹ æƒ¯", pinyin: "xÃ­guÃ n", meaning: "habit; to be used to", lesson: "11" },
            { hanzi: "å•¤é…’", pinyin: "pÃ­jiÇ”", meaning: "beer", lesson: "11" },
            { hanzi: "é»‘æ¿", pinyin: "hÄ“ibÇn", meaning: "blackboard", lesson: "12" },
            { hanzi: "ç”»", pinyin: "huÃ ", meaning: "to draw, to paint; drawing, painting", lesson: "12" },
            { hanzi: "èµ·é£", pinyin: "qÇfÄ“i", meaning: "(of an aircraft) to take off", lesson: "12" },
            { hanzi: "ç”Ÿæ°”", pinyin: "shÄ“ng qÃ¬", meaning: "angry", lesson: "12" },
            { hanzi: "å¤ªé˜³", pinyin: "tÃ iyÃ¡ng", meaning: "sun", lesson: "12" },
            { hanzi: "è¥¿", pinyin: "xÄ«", meaning: "west", lesson: "12" },
            { hanzi: "è¡Œæç®±", pinyin: "xÃ­nglÇxiÄng", meaning: "suitcase, luggage", lesson: "12" },
            { hanzi: "è‡ªå·±", pinyin: "zÃ¬jÇ", meaning: "self", lesson: "12" },
            { hanzi: "åŒ…", pinyin: "bÄo", meaning: "bag", lesson: "12" },
            { hanzi: "å‘ç°", pinyin: "fÄxiÃ n", meaning: "to discover", lesson: "12" },
            { hanzi: "æŠ¤ç…§", pinyin: "hÃ¹zhÃ o", meaning: "passport", lesson: "12" },
            { hanzi: "å¸æœº", pinyin: "sÄ«jÄ«", meaning: "driver", lesson: "12" },
            { hanzi: "æ•™", pinyin: "jiÄo", meaning: "to teach", lesson: "12" },
            { hanzi: "éœ€è¦", pinyin: "xÅ«yÃ o", meaning: "to need", lesson: "12" },
            { hanzi: "å", pinyin: "huÃ i", meaning: "broken, ruined", lesson: "13" },
            { hanzi: "ç¤¼ç‰©", pinyin: "lÇwÃ¹", meaning: "gift, present", lesson: "13" },
            { hanzi: "å¥¶å¥¶", pinyin: "nÇinai", meaning: "grandmother", lesson: "13" },
	    { hanzi: "ç»ˆäº", pinyin: "zhÅngyÃº", meaning: "finally", lesson: "13" },
	    { hanzi: "çˆ·çˆ·", pinyin: "yÃ©ye", meaning: "grandfather", lesson: "13" },
	    { hanzi: "é‡åˆ°", pinyin: "yÃ¹dÃ o", meaning: "to come across, to run into", lesson: "13" },
	    { hanzi: "ä¸€è¾¹", pinyin: "yÃ¬biÄn", meaning: "indicating two actions taking place at the same time", lesson: "13" },
	    { hanzi: "è¿‡å»", pinyin: "guÃ²qÃ¹", meaning: "past", lesson: "13" },
	    { hanzi: "ä¸€èˆ¬", pinyin: "yÃ¬bÄn", meaning: "general, usually", lesson: "13" },
	    { hanzi: "æ„¿æ„", pinyin: "yuÃ nyÃ¬", meaning: "would like to", lesson: "13" },
	    { hanzi: "èµ·æ¥", pinyin: "qÇlÃ¡i", meaning: "(indicating an upward movement) to rise", lesson: "13" },
	    { hanzi: "åº”è¯¥", pinyin: "yÄ«nggÄi", meaning: "should", lesson: "13" },
	    { hanzi: "ç”Ÿæ´»*", pinyin: "shÄ“nghuÃ³", meaning: "life/to live", lesson: "13" },
	    { hanzi: "æ ¡é•¿", pinyin: "xiÃ ozhÇng", meaning: "headmaster", lesson: "13" },
	    { hanzi: "ç»å¸¸", pinyin: "jÄ«ngchÃ¡ng", meaning: "often", lesson: "13" },
            { hanzi: "é˜¿å§¨", pinyin: "ÄyÃ­", meaning: "aunt", lesson: "14" },
            { hanzi: "å†°ç®±", pinyin: "bÄ«ngxiÄng", meaning: "refrigerator", lesson: "14" },
            { hanzi: "æ‰“æ‰«", pinyin: "dÇsÇo", meaning: "to clean, to sweep", lesson: "14" },
            { hanzi: "å¹²å‡€", pinyin: "gÄnjÃ¬ng", meaning: "clean", lesson: "14" },
            { hanzi: "æ•…äº‹", pinyin: "gÃ¹shÃ¬", meaning: "story", lesson: "14" },
            { hanzi: "åˆ®é£", pinyin: "guÄ fÄ“ng", meaning: "to be windy", lesson: "14" },
            { hanzi: "ç›˜å­", pinyin: "pÃ¡nzi", meaning: "plate", lesson: "14" },
            { hanzi: "ç„¶å", pinyin: "rÃ¡nhÃ²u", meaning: "then, after that", lesson: "14" },
            { hanzi: "å£°éŸ³", pinyin: "shÄ“ngyÄ«n", meaning: "sound, voice", lesson: "14" },
            { hanzi: "æ´—æ¾¡", pinyin: "xÇzÇo", meaning: "to take a bath/shower", lesson: "14" },  
            { hanzi: "èŠ‚ç›®", pinyin: "jiÃ©mÃ¹", meaning: "programme", lesson: "14" },  
            { hanzi: "æœˆäº®", pinyin: "yuÃ¨liang", meaning: "moon", lesson: "14" },  
            { hanzi: "åƒ", pinyin: "xiÃ ng", meaning: "to be like", lesson: "14" },  
            { hanzi: "å”å”", pinyin: "shÅ«shu", meaning: "uncle (father's younger brother)", lesson: "14" },  
            { hanzi: "å‘", pinyin: "fÄ", meaning: "to send", lesson: "15" },
            { hanzi: "è¡—é“", pinyin: "jiÄ“dÃ o", meaning: "street", lesson: "15" },
            { hanzi: "èŠ‚æ—¥", pinyin: "jiÃ©rÃ¬", meaning: "festival", lesson: "15" },
            { hanzi: "å¥å­", pinyin: "jÃ¹zi", meaning: "sentence", lesson: "15" },
            { hanzi: "ç»ƒä¹ ", pinyin: "liÃ nxÃ­", meaning: "exercise", lesson: "15" },
            { hanzi: "å…¶ä»–", pinyin: "qÃ­tÄ", meaning: "the rest", lesson: "15" },
            { hanzi: "ä¸Šç½‘", pinyin: "shÃ ng wÇng", meaning: "to surf the Internet", lesson: "15" },
            { hanzi: "ä¸–ç•Œ", pinyin: "shÃ¬jiÃ¨", meaning: "world", lesson: "15" },
            { hanzi: "ç•™å­¦", pinyin: "liÃºxuÃ©", meaning: "to study abroad", lesson: "15" },
            { hanzi: "æ°´å¹³", pinyin: "shuÇpÃ­ng", meaning: "level, standard", lesson: "15" },
            { hanzi: "æé«˜", pinyin: "tÃ­gÄo", meaning: "to improve", lesson: "15" },
            { hanzi: "å®Œæˆ", pinyin: "wÃ¡nchÃ©ng", meaning: "to complete", lesson: "15" },
            { hanzi: "è¦æ±‚", pinyin: "yÄoqiÃº", meaning: "requirement; to require", lesson: "15" },
            { hanzi: "æ³¨æ„", pinyin: "zhÃ¹yÃ¬", meaning: "to pay attention to", lesson: "15" },
            { hanzi: "æ–°é—»", pinyin: "xÄ«nwÃ©n", meaning: "news", lesson: "15" },
            { hanzi: "èŠ±", pinyin: "huÄ", meaning: "spend (time/money)", lesson: "15" },
            { hanzi: "æï¼ˆäº†ï¼‰", pinyin: "jÃ­(le)", meaning: "extremely", lesson: "15" },
            { hanzi: "ä¸¾è¡Œ*", pinyin: "jÇ”xÃ­ng", meaning: "to hold (an event, meeting, etc.)", lesson: "15" },
            { hanzi: "å„*", pinyin: "gÃ¨", meaning: "each, every", lesson: "15" },
            { hanzi: "æ–‡åŒ–", pinyin: "wÃ©nhuÃ ", meaning: "culture", lesson: "15" },
            { hanzi: "é¼»å­", pinyin: "bÃ­zi", meaning: "nose", lesson: "16" },
            { hanzi: "åˆ«äºº", pinyin: "biÃ©rÃ©n", meaning: "other people", lesson: "16" },
            { hanzi: "æ£€æŸ¥", pinyin: "jiÇnchÃ¡", meaning: "to check, to examine", lesson: "16" },
            { hanzi: "å¯çˆ±", pinyin: "kÄ›'Ã i", meaning: "lovely, adorable", lesson: "16" },
            { hanzi: "å¸½å­", pinyin: "mÃ ozi", meaning: "hat, cap", lesson: "16" },
            { hanzi: "ç±³", pinyin: "mÇ", meaning: "metre", lesson: "16" },
            { hanzi: "çš®é‹", pinyin: "pÃ­xiÃ©", meaning: "leather shoes", lesson: "16" },
            { hanzi: "è®¤ä¸º", pinyin: "rÃ¨nwÃ©i", meaning: "to think, to believe", lesson: "16" },
            { hanzi: "åŸå¸‚", pinyin: "chÃ©ngshÃ¬", meaning: "city", lesson: "16" },  
            { hanzi: "å¦‚æœ", pinyin: "rÃºguÇ’", meaning: "if, in case", lesson: "16" },  
            { hanzi: "é•¿", pinyin: "zhÇng", meaning: "to grow, to develop", lesson: "16" },  
            { hanzi: "å…¬æ–¤", pinyin: "gÅngjÄ«n", meaning: "kilogram", lesson: "16" },  
            { hanzi: "å¤´å‘", pinyin: "tÃ³ufa", meaning: "hair", lesson: "16" },  
            { hanzi: "åˆ·ç‰™", pinyin: "shuÄyÃ¡", meaning: "to brush teeth", lesson: "16" },  
            { hanzi: "å…³ç³»", pinyin: "guÄnxi", meaning: "relationship", lesson: "16" },  
            { hanzi: "è¯è¯­*", pinyin: "cÃ­yÇ”", meaning: "word, expression", lesson: "16" },  
            { hanzi: "çˆ±å¥½", pinyin: "Ã ihÃ o", meaning: "hobby, interest", lesson: "17" },
            { hanzi: "åŠæ³•", pinyin: "bÃ nfÇ", meaning: "way, approach", lesson: "17" },
            { hanzi: "å¿…é¡»", pinyin: "bÃ¬xÅ«", meaning: "must", lesson: "17" },
            { hanzi: "é¥±", pinyin: "bÇo", meaning: "full, having eaten one's fill", lesson: "17" },
            { hanzi: "æ ¹æ®", pinyin: "gÄ“njÃ¹", meaning: "according to, based on", lesson: "17" },
            { hanzi: "åæ¥", pinyin: "hÃ²ulÃ¡i", meaning: "later, afterwards", lesson: "17" },
            { hanzi: "å†³å®š", pinyin: "juÃ©dÃ¬ng", meaning: "to decide", lesson: "17" },
            { hanzi: "æ¸´", pinyin: "kÄ›", meaning: "thirsty", lesson: "17" },
            { hanzi: "é‚»å±…", pinyin: "lÃ­njÅ«", meaning: "neighbour", lesson: "17" },
            { hanzi: "é‚»å±…", pinyin: "lÃ­njÅ«", meaning: "neighbour", lesson: "17" },  
            { hanzi: "è¯·å‡", pinyin: "qÇngjiÃ ", meaning: "to ask for leave", lesson: "17" },  
            { hanzi: "ä¸€å…±", pinyin: "yÄ«gÃ²ng", meaning: "in total", lesson: "17" },  
            { hanzi: "ä¸ºäº†", pinyin: "wÃ¨ile", meaning: "for the sake of", lesson: "17" },  
            { hanzi: "é€‰æ‹©", pinyin: "xuÇnzÃ©", meaning: "to choose", lesson: "17" },  
            { hanzi: "å†¬ï¼ˆå¤©ï¼‰", pinyin: "dÅng(tiÄn)", meaning: "winter", lesson: "17" },  
            { hanzi: "æƒ…å†µ", pinyin: "qÃ­ngkuÃ ng", meaning: "situation, condition", lesson: "17" },  
            { hanzi: "å£", pinyin: "kÇ’u", meaning: "mouth", lesson: "17" },  
            { hanzi: "ä¸ä½†â€¦è€Œä¸”â€¦", pinyin: "bÃºdÃ nâ€¦â€¦Ã©rqiÄ›â€¦â€¦", meaning: "not onlyâ€¦but alsoâ€¦", lesson: "18" },
            { hanzi: "åœ°", pinyin: "de", meaning: "used to connect an adverbial modifier and the verb it modifies", lesson: "18" },
            { hanzi: "åŠ¨ç‰©", pinyin: "dÃ²ngwÃ¹", meaning: "animal", lesson: "18" },
            { hanzi: "æ®µ", pinyin: "duÃ n", meaning: "used for sections or periods", lesson: "18" },
            { hanzi: "å…³äº", pinyin: "guÄnyÃº", meaning: "about, regarding", lesson: "18" },
            { hanzi: "å›½å®¶", pinyin: "guÃ³jiÄ", meaning: "country, nation", lesson: "18" },
            { hanzi: "æœºä¼š", pinyin: "jÄ«huÃ¬", meaning: "opportunity", lesson: "18" },
            { hanzi: "å¥‡æ€ª", pinyin: "qÃ­guÃ i", meaning: "strange, odd", lesson: "18" },
            { hanzi: "å‘", pinyin: "xiÃ ng", meaning: "towards", lesson: "18", pos: "prep" },  
            { hanzi: "ä¸‡", pinyin: "wÃ n", meaning: "ten thousand", lesson: "18", pos: "num." },  
            { hanzi: "åª", pinyin: "zhÄ«", meaning: "measure word for animals", lesson: "18", pos: "m." },  
            { hanzi: "å˜´", pinyin: "zuÇ", meaning: "mouth", lesson: "18", pos: "n." },  
            { hanzi: "æœ‰å", pinyin: "yÇ’umÃ­ng", meaning: "famous", lesson: "18", pos: "adj." },  
            { hanzi: "åŒæ„", pinyin: "tÃ³ngyÃ¬", meaning: "to agree", lesson: "18", pos: "v." },  
            { hanzi: "ç›¸ä¿¡", pinyin: "xiÄngxÃ¬n", meaning: "to believe", lesson: "18", pos: "v." },  
            { hanzi: "ç§", pinyin: "zhÇ’ng", meaning: "kind, type", lesson: "18", pos: "m." },  
            { hanzi: "ç‰¹ç‚¹*", pinyin: "tÃ¨diÇn", meaning: "feature", lesson: "18", pos: "n." },  
            { hanzi: "ç»è¿‡", pinyin: "jÄ«ngguÃ²", meaning: "to pass by", lesson: "19", pos: "v." },  
            { hanzi: "é»„æ²³", pinyin: "HuÃ¡ng HÃ©", meaning: "Yellow River", lesson: "19", pos: "n." },  
            { hanzi: "å“­", pinyin: "kÅ«", meaning: "to cry", lesson: "19", pos: "v." },  
            { hanzi: "è¿‡", pinyin: "guÃ²", meaning: "to pass, to spend", lesson: "19", pos: "v." },  
            { hanzi: "å¼ ", pinyin: "zhÄng", meaning: "measure word for flat objects (e.g., paper, photos)", lesson: "19", pos: "m." },  
            { hanzi: "èˆ¹", pinyin: "chuÃ¡n", meaning: "boat, ship", lesson: "19" },
            { hanzi: "çŸ­", pinyin: "duÇn", meaning: "short", lesson: "19" },
            { hanzi: "è€³æœµ", pinyin: "Ä›rduo", meaning: "ear", lesson: "19" },
            { hanzi: "è“", pinyin: "lÃ¡n", meaning: "blue", lesson: "19" },
            { hanzi: "è„¸", pinyin: "liÇn", meaning: "face", lesson: "19" },
            { hanzi: "é©¬", pinyin: "mÇ", meaning: "horse", lesson: "19" },
            { hanzi: "é¸Ÿ", pinyin: "niÇo", meaning: "bird", lesson: "19" },
            { hanzi: "ç§‹ï¼ˆå¤©ï¼‰", pinyin: "qiÅ« (tiÄn)", meaning: "autumn, fall", lesson: "19" },
            { hanzi: "ä½", pinyin: "wÃ¨i", meaning: "a respectful measure word for people", lesson: "19" },
            { hanzi: "è¢«", pinyin: "bÃ¨i", meaning: "used to indicate the passive voice", lesson: "20" },
            { hanzi: "æˆç»©", pinyin: "chÃ©ngjÃ¬", meaning: "grade, performance, achievement", lesson: "20" },
            { hanzi: "ä¸œ", pinyin: "dÅng", meaning: "east", lesson: "20" },
            { hanzi: "å¤šä¹ˆ", pinyin: "duÅme", meaning: "very, to a great extent", lesson: "20" },
            { hanzi: "åˆ†", pinyin: "fÄ“n", meaning: "to distinguish", lesson: "20" },
            { hanzi: "è§£å†³", pinyin: "jiÄ›juÃ©", meaning: "to solve", lesson: "20" },
            { hanzi: "éš¾è¿‡", pinyin: "nÃ¡nguÃ²", meaning: "sad", lesson: "20" },
            { hanzi: "è¯•", pinyin: "shÃ¬", meaning: "to try", lesson: "20" },
            { hanzi: "ç¢—", pinyin: "wÇn", meaning: "bowl", lesson: "20" },
            { hanzi: "å…³å¿ƒ", pinyin: "guÄnxÄ«n", meaning: "to care for, to be interested in", lesson: "18" },
            { hanzi: "ä¿¡ç”¨å¡", pinyin: "xÃ¬nyÃ²ngkÇ", meaning: "credit card", lesson: "20", pos: "n." },  
            { hanzi: "çœŸæ­£*", pinyin: "zhÄ“nzhÃ¨ng", meaning: "really, truly", lesson: "20", pos: "adv." },  
            { hanzi: "åªæœ‰â€¦æ‰â€¦", pinyin: "zhÇyÇ’uâ€¦cÃ¡iâ€¦", meaning: "onlyâ€¦(that/canâ€¦)", lesson: "20", pos: "conj." },  
            { hanzi: "ç…§ç›¸æœº", pinyin: "zhÃ oxiÃ ngjÄ«", meaning: "camera", lesson: "20" }
        ];

        let currentMode = 'hanzi'; // é»˜è®¤æ±‰å­—æ¨¡å¼
        let currentLesson = 'all'; // é»˜è®¤å…¨éƒ¨è¯¾ç¨‹

        // åˆå§‹åŒ–å¡ç‰‡
        function initCards() {
            const container = document.getElementById('cards-container');
            container.innerHTML = '';
            
            // ç­›é€‰å½“å‰è¯¾ç¨‹çš„è¯æ±‡
            const filteredData = currentLesson === 'all' 
                ? hsk3Data 
                : hsk3Data.filter(item => item.lesson === currentLesson);
            
            filteredData.forEach(item => {
                const card = document.createElement('div');
                card.className = 'card';
                
                if (currentMode === 'hanzi') {
                    card.innerHTML = `
                        <div class="card-inner">
                            <div class="card-face card-front">
                                <div class="hanzi" data-chars="${item.hanzi.length}">${item.hanzi}</div>
                                <div class="lesson-info">ç¬¬${item.lesson}è¯¾</div>
                            </div>
                            <div class="card-face card-back">
                                <div class="hsk-badge">3</div>
                                <div class="pinyin">${item.pinyin}</div>
                                <div class="meaning">${item.meaning}</div>
                                <div class="lesson-info">ç¬¬${item.lesson}è¯¾</div>
                            </div>
                        </div>
                    `;
                } else {
                    card.innerHTML = `
                        <div class="card-inner">
                            <div class="card-face card-front">
                                <div class="pinyin">${item.pinyin}</div>
                                <div class="lesson-info">ç¬¬${item.lesson}è¯¾</div>
                            </div>
                            <div class="card-face card-back-english">
                                <div class="hsk-badge">3</div>
                                <div class="meaning">${item.meaning}</div>
                                <div class="lesson-info">ç¬¬${item.lesson}è¯¾</div>
                            </div>
                        </div>
                    `;
                }
                
                card.addEventListener('click', function() {
                    this.classList.toggle('flipped');
                });
                
                container.appendChild(card);
            });
        }

        // æ‰“ä¹±å¡ç‰‡é¡ºåº
        function shuffleCards() {
            const container = document.getElementById('cards-container');
            const cards = Array.from(container.querySelectorAll('.card'));
            
            // ç§»é™¤æ‰€æœ‰å¡ç‰‡
            cards.forEach(card => container.removeChild(card));
            
            // æ‰“ä¹±é¡ºåº
            for (let i = cards.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                container.appendChild(cards[j]);
                cards.splice(j, 1);
            }
            
            // æ·»åŠ å‰©ä½™çš„å¡ç‰‡
            cards.forEach(card => container.appendChild(card));
        }

        // ç¿»è½¬æ‰€æœ‰å¡ç‰‡
        function flipAllCards() {
            const cards = document.querySelectorAll('.card');
            const allFlipped = Array.from(cards).every(card => card.classList.contains('flipped'));
            
            cards.forEach(card => {
                if (allFlipped) {
                    card.classList.remove('flipped');
                } else {
                    card.classList.add('flipped');
                }
            });
        }

        // åˆ‡æ¢æ¨¡å¼
        function switchMode(mode) {
            currentMode = mode;
            document.getElementById('hanzi-mode').classList.toggle('active', mode === 'hanzi');
            document.getElementById('pinyin-mode').classList.toggle('active', mode === 'pinyin');
            initCards();
        }

        // åˆ‡æ¢è¯¾ç¨‹
        function switchLesson(lesson) {
            currentLesson = lesson;
            initCards();
        }

        // äº‹ä»¶ç›‘å¬
        document.getElementById('shuffle-btn').addEventListener('click', shuffleCards);
        document.getElementById('flip-all').addEventListener('click', flipAllCards);
        document.getElementById('reset-btn').addEventListener('click', initCards);
        document.getElementById('hanzi-mode').addEventListener('click', () => switchMode('hanzi'));
        document.getElementById('pinyin-mode').addEventListener('click', () => switchMode('pinyin'));
        document.getElementById('lesson-select').addEventListener('change', (e) => switchLesson(e.target.value));

        // åˆå§‹åŒ–
        initCards();
    </script>
</body>
</html>
